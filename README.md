## OT-Extension复现
## 1.协议
（1）初始化阶段
发送方生成一个随机向量s属于{0,1}^k
接收方生成一个随机矩阵T属于{0,1}^(m*k)（m行k列）
（2）OT扩展阶段
双方通过调用原始的OT协议，将s和T的部分信息安全地传输给对方。
发送方根据接收方的选择，利用随机语言机H生成掩码，将原始数据加密为m个密文。
（3）解密阶段
接收方通过自己的随机矩阵T和随机预言机生成的掩码，解密出所需的m个秘密。
关键创新点：通过随机预言机的随机性，协议将扩展OT的安全性归约到初始的k次OT上，同时避免了Beaver协议中对电路结构的依赖。这使得扩展过程的计算和通信复杂度大幅降低。
## 2.复现思路
论文中的OT扩展协议基于随机预言机，核心思想是用少量基础OT生成大量扩展OT。以下是协议的关键步骤：
（1）初始化参数
安全参数：选择k（基础OT数量，如k = 128）,m（扩展OT数量，如m = 2^20）、lamda(随机预言机输入长度，如lamda = 256)。
随机预言机：使用哈希函数（如SHA-256）作为随机预言机H：{0,1}^lamda * {0,1}^k = {0,1}^k。
（2）生成基础OT
双方通过基础OT协议（如1-out-of-2）交换随机种子：
Sender：生成随机向量s属于{0,1}^k。
Receiver：生成随机矩阵T属于{0,1}^(m*k)（每行对应一个扩展OT的选择）。
基础OT交互。
（3）生成扩展OT掩码
Sender使用随机预言机H生成掩码，将基础OT的输出转换为扩展OT的密文：
对于每个扩展OT实例j属于[1,m]，计算掩码mask_j = H(j,q_j)（q_j是基础OT的输出）。
Sender将(x_{j,0} ⊕ mask_j, x_{j,1} ⊕ mask_j ⊕ s)发送给接收方（x_{j,0}和x_{j,1}是发送方的秘密消息）。
（4）接收方解密扩展OT
接收方根据选择比特r_j解密对应的消息：
•计算mask_j = H(j, t_j)（t_j是接收方的随机矩阵行）。
•解密得到x_{j,r_j} = y_j[r_j] ⊕ mask_j（y_j是接收方收到的密文）。

